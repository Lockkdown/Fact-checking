## 🔄 PIPELINE FLOW (Hybrid Architecture)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│  📥 INPUT (ViFactCheck Dataset)                                             │
│  ───────────────────────────────────────────────────────────────────────    │
│  • Statement (Claim): Tuyên bố cần kiểm chứng                               │
│  • Context: Ngữ cảnh liên quan để kiểm chứng                                │
│  • Label: SUPPORTED / REFUTED / NOT_ENOUGH_INFO                             │
└─────────────────────────────────┬───────────────────────────────────────────┘
                                  │
                                  ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  🤖 MODULE 1: CLASSIFICATION & ROUTING (ML Model)                           │
│  ───────────────────────────────────────────────────────────────────────    │
│  • Trained/Fine-tuned on ViFactCheck (PyVi preprocessing)                   │
│  • OUTPUT: verdict + confidence (0.0 - 1.0)                                 │
│                                                                             │
│                ┌────────────────────────────────────────┐                   │
│                │ 🚦 CONFIDENCE ROUTER                   │                   │
│                │ IF confidence >= Threshold             │                   │
│                │    → HIGH CONFIDENCE PATH              │                   │
│                │ ELSE:                                  │                   │
│                │    → LOW CONFIDENCE PATH (Debate)      │                   │
│                └───────────────────┬────────────────────┘                   │
└─────────────────────────────────┬──┴────────────────────────────────────────┘
                                  │
        ┌─────────────────────────REJECT──────────────────────────┐
        │ (High Confidence)                                       │ (Low Confidence)
        ▼                                                         ▼
┌───────────────────────────────────────┐  ┌────────────────────────────────────────────────────────────────────────┐
│ 🚀 FAST PATH (Model)                  │  │ ⚔️ SLOW PATH: MULTI-AGENT DEBATE COUNCIL                              │
│ ───────────────────────────────────── │  │ ────────────────────────────────────────────────────────────────────── │
│ • Use Model Verdict directly          │  │ 🎯 Purpose: Deep reasoning for hard/ambiguous cases                    │
│ • No Debate Cost, Fast Response       │  │                                                                        │
│                                       │  │  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐         │
│                                       │  │  │ Debator A       │  │ Debator B       │  │ Debator C       │         │
│                                       │  │  └────────┬────────┘  └────────┬────────┘  └────────┬────────┘         │
│                                       │  │           │                    │                    │                  │
│                                       │  │           ▼                    ▼                    ▼                  │
│                                       │  │  ┌─────────────────────────────────────────────────────────────────┐   │
│                                       │  │  │  📖 ROUND 1: Independent Analysis (JSON verdict + quote)        │   │
│                                       │  │  └─────────────────────────────┬───────────────────────────────────┘   │
│                                       │  │                                ▼                                       │
│                                       │  │  ┌─────────────────────────────────────────────────────────────────┐   │
│                                       │  │  │  🔁 ROUND 2..K: Cross-Examination / Dispute Resolution         │    │
│                                       │  │  └─────────────────────────────┬───────────────────────────────────┘   │
│                                       │  │                                ▼                                       │
│                                       │  │  ┌─────────────────────────────────────────────────────────────────┐   │
│                                       │  │  │  ✅ ADJUDICATION (Rule-based / Judge model, configurable):      │   │
│                                       │  │  │   - Fixed K: run full K rounds, then majority vote last round   │   │
│                                       │  │  │   - EarlyStop (max K): stop when unanimous_r AND stable vs r-1  │   │
│                                       │  │  │     then majority vote last round                               │   │
│                                       │  │  └─────────────────────────────────────────────────────────────────┘   │
└───────────────────────────────────────┴───────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│  📤 FINAL OUTPUT (Hybrid Verdict)                                           │
│  ───────────────────────────────────────────────────────────────────────    │
│                                                                             │
│  {                                                                          │
│    "final_verdict": "REFUTED",                                              │
│    "method": "DEBATE" or "MODEL",                                           │
│    "confidence": 0.95,                                                      │
│    "source": "SLOW_PATH" or "FAST_PATH"                                     │
│  }                                                                          │
└─────────────────────────────────────────────────────────────────────────────┘
```
